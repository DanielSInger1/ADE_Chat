{"ast":null,"code":"import _toConsumableArray from\"C:/Users/User/Downloads/chat FInal/Client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/User/Downloads/chat FInal/Client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _slicedToArray from\"C:/Users/User/Downloads/chat FInal/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"C:/Users/User/Downloads/chat FInal/Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useCallback,useEffect,useRef,useState}from\"react\";import{socket}from\"./chat\";import{token}from\"../Home/Home\";import{Message}from\"./Message\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function load_chat_fromServer(_x){return _load_chat_fromServer.apply(this,arguments);}function _load_chat_fromServer(){_load_chat_fromServer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var res,result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"http://localhost:5000/api/Chats/\".concat(id),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)/*'authorization': 'bearer ' + token //*/}});case 3:res=_context3.sent;if(!res.ok){_context3.next=11;break;}_context3.next=7;return res.json();case 7:result=_context3.sent;return _context3.abrupt(\"return\",result);case 11:console.log(\"Request failed:\",res.status);// Additional error handling or actions\ncase 12:_context3.next=17;break;case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](0);console.log(\"Error:\",_context3.t0);// Additional error handling or actions\ncase 17:case\"end\":return _context3.stop();}},_callee3,null,[[0,14]]);}));return _load_chat_fromServer.apply(this,arguments);}function sendMessage(_x2,_x3){return _sendMessage.apply(this,arguments);}function _sendMessage(){_sendMessage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id,content){var data,res;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:data={msg:content};console.log(\"the id is\"+id+\"the cpntemt is\"+content);_context4.next=4;return fetch(\"http://localhost:5000/api/Chats/\".concat(id,\"/Messages\"),{method:'post',headers:{'Content-type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify(data)});case 4:res=_context4.sent;console.log(\"the response from the server was\");console.log(res);if(!res.ok){_context4.next=14;break;}console.log(\"sent the message ok\");_context4.next=11;return res.json();case 11:return _context4.abrupt(\"return\",_context4.sent);case 14:alert(\"get messages failed\");case 15:case\"end\":return _context4.stop();}},_callee4);}));return _sendMessage.apply(this,arguments);}export function Conversation(_ref){var myProfile=_ref.myProfile,index=_ref.index,setMyContacs=_ref.setMyContacs;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),myMessages=_useState2[0],setMyMessages=_useState2[1];var messagesRef=useRef(null);useEffect(function(){var container=messagesRef.current;if(container&&container.scrollHeight){container.scrollTop=container.scrollHeight;}},[myMessages,messagesRef]);console.log(\"loading conversation, the id is\"+index);//this is the send message its like send message to the server\nvar handleClick1=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var msg,message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:msg=document.getElementById('textAreaExample2').value;document.getElementById('textAreaExample2').value=\"\";console.log(\"the msg is \"+msg);_context.next=5;return sendMessage(index,msg,handleLoadMessages);case 5:message=_context.sent;if(message){console.log(\"message?\",message);socket.emit(\"send_message\",{message:message,chatId:index});}case 7:case\"end\":return _context.stop();}},_callee);}));return function handleClick1(){return _ref2.apply(this,arguments);};}();var handleLoadMessages=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return load_chat_fromServer(index);case 3:result=_context2.sent;console.log(\"the index is \"+index);console.log(\"messages\",result);if(result){setMyMessages(result===null||result===void 0?void 0:result.messages);}_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);console.error(\"Failed to load profile:\",_context2.t0);// Handle the error gracefully\ncase 12:case\"end\":return _context2.stop();}},_callee2,null,[[0,9]]);})),[index]);useEffect(function(){console.log(\"i am in the useEffect\");var handleMessage=function handleMessage(_ref4){var message=_ref4.message,chatId=_ref4.chatId;console.log(\"NEW MSG\",message);if(chatId===index){// if the message is for this chat\nsetMyMessages(function(oldMessages){return[].concat(_toConsumableArray(oldMessages),[message]);});}setMyContacs(function(oldContacts){var newContacts=_toConsumableArray(oldContacts);var chatIndex=newContacts.findIndex(function(chat){return chat.id===chatId;});newContacts[chatIndex].lastMessage=message;return newContacts;});};socket.on(\"receive_message\",handleMessage);handleLoadMessages();return function(){socket.off(\"receive_message\",handleMessage);};},[index,setMyContacs,handleLoadMessages]);if(!myMessages){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-7 col-xl-8\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"card bg-transparent border-0 \",id:\"RightCardHeight\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-body overflow-auto\",style:{height:'50vh'},ref:messagesRef,children:(myMessages===null||myMessages===void 0?void 0:myMessages.length)>0&&myMessages.map(function(msg,index){var _msg$sender,_msg$sender2;return/*#__PURE__*/ (// msg?.sender?.profilePic\n_jsx(Message,{name:msg===null||msg===void 0?void 0:(_msg$sender=msg.sender)===null||_msg$sender===void 0?void 0:_msg$sender.displayName,img:msg===null||msg===void 0?void 0:(_msg$sender2=msg.sender)===null||_msg$sender2===void 0?void 0:_msg$sender2.profilePic,time:msg===null||msg===void 0?void 0:msg.created,message:msg===null||msg===void 0?void 0:msg.content,type:(msg===null||msg===void 0?void 0:msg.sender.username)===myProfile.username?'right':'left'},index));})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",id:\"sendmessage\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control form-control-lg\",id:\"textAreaExample2\",rows:\"2\"/*       check if adi did it */,defaultValue:\"\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success\",id:\"chat-send-button\",onClick:handleClick1,children:/*#__PURE__*/_jsx(\"span\",{className:\"bi bi-send\"})})]})})]})});}","map":{"version":3,"names":["useCallback","useEffect","useRef","useState","socket","token","Message","jsx","_jsx","jsxs","_jsxs","load_chat_fromServer","_x","_load_chat_fromServer","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee3","id","res","result","wrap","_callee3$","_context3","prev","next","fetch","concat","method","headers","Authorization","sent","ok","json","abrupt","console","log","status","t0","stop","sendMessage","_x2","_x3","_sendMessage","_callee4","content","data","_callee4$","_context4","msg","body","JSON","stringify","alert","Conversation","_ref","myProfile","index","setMyContacs","_useState","_useState2","_slicedToArray","myMessages","setMyMessages","messagesRef","container","current","scrollHeight","scrollTop","handleClick1","_ref2","_callee","message","_callee$","_context","document","getElementById","value","handleLoadMessages","emit","chatId","_callee2","_callee2$","_context2","messages","error","handleMessage","_ref4","oldMessages","_toConsumableArray","oldContacts","newContacts","chatIndex","findIndex","chat","lastMessage","on","off","children","className","style","height","ref","length","map","_msg$sender","_msg$sender2","name","sender","displayName","img","profilePic","time","created","type","username","rows","defaultValue","onClick"],"sources":["C:/Users/User/Downloads/chat FInal/Client/src/Chat/Conversation.js"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from \"react\";\nimport { socket } from \"./chat\";\nimport { token } from \"../Home/Home\";\nimport { Message } from \"./Message\";\n\nasync function load_chat_fromServer(id) {\n    try {\n        const res = await fetch(`http://localhost:5000/api/Chats/${id}`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${token}`,\n                /*'authorization': 'bearer ' + token //*/\n            },\n        });\n        if (res.ok) {\n            const result = await res.json();\n            return result;\n            //  myProfile = new Contact(result.displayName, result.profilePic, \"OP status\");\n            // Additional processing or actions with the result\n        } else {\n            console.log(\"Request failed:\", res.status);\n            // Additional error handling or actions\n        }\n    } catch (error) {\n        console.log(\"Error:\", error);\n        // Additional error handling or actions\n    }\n\n}\n\nasync function sendMessage(id,content) {\n    const data = {\n        msg: content,\n    };\n    console.log(\"the id is\"+id+\"the cpntemt is\"+content)\n\n    const res = await fetch(`http://localhost:5000/api/Chats/${id}/Messages`, {\n        method: 'post',\n        headers: {\n            'Content-type': 'application/json',\n            Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(data)\n    });\n   console.log(\"the response from the server was\");\n    console.log(res);\n    if (res.ok) {\n        console.log(\"sent the message ok\");\n        return await res.json();\n    } else {\n        alert(\"get messages failed\",);\n    }\n}\n\nexport  function Conversation({myProfile, index, setMyContacs}){\n    const [myMessages,setMyMessages]= useState([]);\n    const messagesRef= useRef(null);\n\n    useEffect(()=> {\n        const container = messagesRef.current;\n        if (container && container.scrollHeight) {\n            container.scrollTop = container.scrollHeight;\n        }\n    }, [myMessages, messagesRef])\n\n    console.log(\"loading conversation, the id is\"+index)\n//this is the send message its like send message to the server\n    const handleClick1 = async () => {\n      const msg = document.getElementById('textAreaExample2').value;\n      document.getElementById('textAreaExample2').value = \"\";\n      console.log(\"the msg is \" + msg);\n      const message = await sendMessage(index, msg, handleLoadMessages);\n      if (message) {\n        console.log(\"message?\", message)\n          socket.emit(\"send_message\",{message, chatId: index});\n      }\n    };\n\n    const handleLoadMessages = useCallback(async () => {\n        try {\n            const result = await load_chat_fromServer(index);\n            console.log(\"the index is \"+ index);\n            console.log(\"messages\", result);\n            if (result) {\n                setMyMessages(result?.messages);\n            }\n        } catch (error) {\n            console.error(\"Failed to load profile:\", error);\n            // Handle the error gracefully\n        }\n    }, [index]);\n\n    useEffect(() => {\n        console.log(\"i am in the useEffect\")\n        const handleMessage =  ({message, chatId})=> {\n            console.log(\"NEW MSG\", message)\n            if (chatId === index) { // if the message is for this chat\n                setMyMessages(oldMessages => ([...oldMessages, message]))\n            }\n            setMyContacs(oldContacts => {\n                const newContacts = [...oldContacts];\n                const chatIndex = newContacts.findIndex(chat => chat.id === chatId);\n                newContacts[chatIndex].lastMessage = message;\n                return newContacts;\n            })\n        }\n\n\n        socket.on(\"receive_message\", handleMessage)\n        handleLoadMessages()\n        return ()=> {\n            socket.off(\"receive_message\", handleMessage)\n        }\n    }, [index, setMyContacs, handleLoadMessages]);\n\n\n    if (!myMessages) {\n        return <div>Loading...</div>;\n    }\n    return(\n        <div className=\"col-md-6 col-lg-7 col-xl-8\">\n            <ul className=\"card bg-transparent border-0 \" id=\"RightCardHeight\">\n                <div className=\"card-body overflow-auto\" style={{ height: '50vh'}} ref={messagesRef}>\n                    {myMessages?.length > 0 && myMessages.map((msg, index) => {\n                        return (\n                            // msg?.sender?.profilePic\n                            <Message\n                                key={index}\n                                name={msg?.sender?.displayName}\n                                img={msg?.sender?.profilePic}\n                                time={msg?.created}\n                                message={msg?.content}\n                                type={msg?.sender.username===myProfile.username ? 'right' : 'left'}\n                            />\n                        );\n                    })}\n                </div>\n\n\n                <div className=\"col\" id=\"sendmessage\">\n                    <div className=\"input-group\">\n                  <textarea\n                      className=\"form-control form-control-lg\"\n                      id=\"textAreaExample2\"\n                      rows=\"2\"\n                      /*       check if adi did it */\n                      defaultValue={\"\"}\n                  />\n                        <button type=\"button\" className=\"btn btn-success\"  id=\"chat-send-button\" onClick={handleClick1}>\n                            <span className=\"bi bi-send\" />\n                        </button>\n                    </div>\n                </div>\n            </ul>\n        </div>)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}