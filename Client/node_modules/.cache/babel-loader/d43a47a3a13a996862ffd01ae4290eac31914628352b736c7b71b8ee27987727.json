{"ast":null,"code":"import _toConsumableArray from\"C:/Users/User/Downloads/chat FInal/Client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/User/Downloads/chat FInal/Client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Downloads/chat FInal/Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Downloads/chat FInal/Client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Profile}from\"./Profile\";import{Conversation}from\"./Conversation\";import{Link,useNavigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import\"./Contact\";import\"./chat.css\";import{token,activeUser,setToken,setActiveUser}from'../Home/Home.js';import io from\"socket.io-client\";import{GetContacts}from\"./GetContacts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var socket=io.connect(\"http://localhost:5000/\",{transports:[\"websocket\"]});export{socket};export function Logout(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isButtonClicked=_useState2[0],setIsButtonClicked=_useState2[1];var handleLogout=function handleLogout(){setToken(\"\");setActiveUser(\"\");setIsButtonClicked(true);};if(isButtonClicked){setToken(\"\");setActiveUser(\"\");}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"logout-button\",onClick:handleLogout,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-box-arrow-right logout-button\"})})});}export function Chat(){var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),myProfile=_useState6[0],setMyProfile=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),myContacts=_useState8[0],setMyContacs=_useState8[1];var navigate=useNavigate();var checkSignedUser=function checkSignedUser(){console.log(\"the ative user is \"+activeUser);console.log(\"the token is +\"+token);if(activeUser===\"\"||token===\"\"){console.log(\"frim checksigned user - moving to login\");navigate(\"/\");}};useEffect(function(){checkSignedUser();handleLoadProfile();},[]);var handleLoadContacts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return load_chats(activeUser,token);case 3:result=_context.sent;result.forEach(function(chat){socket.emit(\"joinChat\",{chatId:chat.id});});setMyContacs(result);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"Failed to load profile:\",_context.t0);// Handle the error gracefully\ncase 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function handleLoadContacts(){return _ref.apply(this,arguments);};}();var handleLoadProfile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var profile;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return load_profile();case 3:profile=_context2.sent;setMyProfile(profile);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error(\"Failed to load profile:\",_context2.t0);// Handle the error gracefully\ncase 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function handleLoadProfile(){return _ref2.apply(this,arguments);};}();useEffect(function(){var handleNewChat=function handleNewChat(chat){socket.emit(\"joinChat\",{chatId:chat.id});setMyContacs(function(prev){return[chat].concat(_toConsumableArray(prev));});};if(myProfile!==null&&myProfile!==void 0&&myProfile.username){socket.emit(\"joinMyRoom\",myProfile.username);socket.on(\"newChat\",handleNewChat);socket.on(\"chatDeleted\",function(chatId){setMyContacs(function(prev){return prev.filter(function(chat){return chat.id!==chatId;});});});}return function(){// socket.off(\"leaveRoom\", myProfile.username)\nsocket.off(\"newChat\",handleNewChat);// socket.off(\"chatDeleted\")\n};},[myProfile]);useEffect(function(){console.log(\"this will happend when page go up\");return function(){console.log(\"this will happend when page go down\");};},[]);useEffect(function(){handleLoadContacts();},[]);if(!myProfile){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(!myContacts){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}var updateCount=function updateCount(index){console.log(\"updating thr index to\"+index);setCount(index);};var UpdateCHat=function UpdateCHat(id){handleLoadContacts();console.log(\"the count is\"+count+\"the id is\"+id);if(id===count){setCount(0);}console.log(\"updating the  chat\");};var desiredCHat=myContacts.find(function(contact){return contact.id===count;});console.log(\"the desired chat is\"+desiredCHat);console.log(desiredCHat);return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container down\",children:[/*#__PURE__*/_jsx(Logout,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",id:\"CenterData\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 col-lg-5 col-xl-4 \",children:[/*#__PURE__*/_jsx(Profile,{c_profile:myProfile,update:UpdateCHat,setMyContacs:setMyContacs}),/*#__PURE__*/_jsx(GetContacts,{contactsArr:myContacts,updateCount:updateCount,bold_index:count,updateChat:UpdateCHat})]}),/*#__PURE__*/_jsx(Conversation,{myProfile:myProfile,index:count,setMyContacs:setMyContacs})]})]})});}function load_profile(){return _load_profile.apply(this,arguments);}function _load_profile(){_load_profile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var res,result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"http://localhost:5000/api/Users/\".concat(activeUser),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)/*'authorization': 'bearer ' + token //*/}});case 3:res=_context3.sent;if(!res.ok){_context3.next=11;break;}_context3.next=7;return res.json();case 7:result=_context3.sent;return _context3.abrupt(\"return\",result);case 11:console.log(\"Request failed:\",res.status);// Additional error handling or actions\ncase 12:_context3.next=17;break;case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](0);console.log(\"Error:\",_context3.t0);// Additional error handling or actions\ncase 17:case\"end\":return _context3.stop();}},_callee3,null,[[0,14]]);}));return _load_profile.apply(this,arguments);}function load_chats(_x,_x2){return _load_chats.apply(this,arguments);}function _load_chats(){_load_chats=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(username,token){var res,result;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"http://localhost:5000/api/Chats\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)/*'authorization': 'bearer ' + token //*/}});case 2:res=_context4.sent;if(!res.ok){_context4.next=10;break;}_context4.next=6;return res.json();case 6:result=_context4.sent;return _context4.abrupt(\"return\",result);case 10:console.log(\"Request failed:\",res.status);// Additional error handling or actions\ncase 11:case\"end\":return _context4.stop();}},_callee4);}));return _load_chats.apply(this,arguments);}","map":{"version":3,"names":["Profile","Conversation","Link","useNavigate","useEffect","useState","token","activeUser","setToken","setActiveUser","io","GetContacts","jsx","_jsx","jsxs","_jsxs","socket","connect","transports","Logout","_useState","_useState2","_slicedToArray","isButtonClicked","setIsButtonClicked","handleLogout","children","to","className","onClick","Chat","_useState3","_useState4","count","setCount","_useState5","_useState6","myProfile","setMyProfile","_useState7","_useState8","myContacts","setMyContacs","navigate","checkSignedUser","console","log","handleLoadProfile","handleLoadContacts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","load_chats","sent","forEach","chat","emit","chatId","id","t0","error","stop","apply","arguments","_ref2","_callee2","profile","_callee2$","_context2","load_profile","handleNewChat","concat","_toConsumableArray","username","on","filter","off","updateCount","index","UpdateCHat","desiredCHat","find","contact","c_profile","update","contactsArr","bold_index","updateChat","_load_profile","_callee3","res","_callee3$","_context3","fetch","method","headers","Authorization","ok","json","abrupt","status","_x","_x2","_load_chats","_callee4","_callee4$","_context4"],"sources":["C:/Users/User/Downloads/chat FInal/Client/src/Chat/chat.js"],"sourcesContent":["import { Profile } from \"./Profile\";\r\nimport { Conversation } from \"./Conversation\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport \"./Contact\";\r\nimport \"./chat.css\";\r\nimport { token, activeUser, setToken, setActiveUser } from '../Home/Home.js';\r\nimport io from \"socket.io-client\";\r\nimport { GetContacts } from \"./GetContacts\";\r\n\r\nconst socket = io.connect(\"http://localhost:5000/\", { transports: [\"websocket\"]});\r\nexport { socket };\r\n\r\nexport function Logout() {\r\n\r\n    const [isButtonClicked, setIsButtonClicked] = useState(false);\r\n\r\n    const handleLogout = () => {\r\n        setToken(\"\")\r\n        setActiveUser(\"\")\r\n        setIsButtonClicked(true);\r\n    };\r\n\r\n    if (isButtonClicked) {\r\n        setToken(\"\")\r\n        setActiveUser(\"\")\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Link to=\"/\" className=\"logout-button\" onClick={handleLogout}>\r\n                <i className=\"bi bi-box-arrow-right logout-button\" />\r\n            </Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function Chat() {\r\n    const [count, setCount] = useState(0);\r\n    const [myProfile, setMyProfile] = useState(null);\r\n    const [myContacts,setMyContacs]=useState(null);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const checkSignedUser = () => {\r\n\r\n        console.log(\"the ative user is \"+activeUser);\r\n        console.log(\"the token is +\"+token);\r\n        if(activeUser === \"\" || token === \"\") {\r\n            console.log(\"frim checksigned user - moving to login\")\r\n            navigate(\"/\")\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        checkSignedUser();\r\n        handleLoadProfile();\r\n\r\n    }, []);\r\n\r\n    const handleLoadContacts = async () => {\r\n        try {\r\n            const result = await load_chats(activeUser, token);\r\n            result.forEach((chat)=> {\r\n                socket.emit(\"joinChat\", {chatId: chat.id})\r\n            })\r\n\r\n            setMyContacs(result);\r\n        } catch (error) {\r\n            console.error(\"Failed to load profile:\", error);\r\n            // Handle the error gracefully\r\n        }\r\n    };\r\n\r\n\r\n    const handleLoadProfile = async () => {\r\n        try {\r\n            const profile = await load_profile();\r\n            setMyProfile(profile);\r\n        } catch (error) {\r\n            console.error(\"Failed to load profile:\", error);\r\n            // Handle the error gracefully\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const handleNewChat = (chat)=> {\r\n            socket.emit(\"joinChat\", {chatId: chat.id})\r\n            setMyContacs((prev)=> [chat,...prev]);\r\n        }\r\n        if (myProfile?.username) {\r\n            socket.emit(\"joinMyRoom\", myProfile.username);\r\n            socket.on(\"newChat\", handleNewChat)\r\n\r\n            socket.on(\"chatDeleted\", (chatId)=> {\r\n                setMyContacs((prev)=> prev.filter(chat => chat.id !== chatId))\r\n            })\r\n        }\r\n        return ()=>{\r\n            // socket.off(\"leaveRoom\", myProfile.username)\r\n            socket.off(\"newChat\", handleNewChat);\r\n            // socket.off(\"chatDeleted\")\r\n        }\r\n    }, [myProfile]);\r\n\r\n    useEffect(()=> {\r\n        console.log(\"this will happend when page go up\")\r\n\r\n        return ()=> {\r\n            console.log(\"this will happend when page go down\")\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        handleLoadContacts();\r\n    }, []);\r\n\r\n    if (!myProfile) {\r\n        return <div>Loading...</div>;\r\n    }\r\n    if (!myContacts) {\r\n        return <div>Loading...</div>;\r\n    }\r\n    const updateCount = (index) => {\r\n        console.log(\"updating thr index to\"+ index);\r\n        setCount(index);\r\n    };\r\n\r\n    const UpdateCHat = (id) => {\r\n        handleLoadContacts();\r\n        console.log(\"the count is\"+count+\"the id is\"+id)\r\n        if(id===count){\r\n            setCount(0);\r\n        }\r\n        console.log(\"updating the  chat\")\r\n    };\r\n    const desiredCHat = myContacts.find(contact => contact.id === count);\r\n    console.log(\"the desired chat is\"+desiredCHat);\r\n    console.log(desiredCHat);\r\n\r\n    return (\r\n        <section>\r\n            <div className=\"container down\">\r\n                <Logout />\r\n                <div className=\"row\" id=\"CenterData\">\r\n                    <div className=\"col-md-6 col-lg-5 col-xl-4 \">\r\n                        <Profile c_profile={myProfile} update={UpdateCHat} setMyContacs={setMyContacs} />\r\n                        <GetContacts contactsArr={myContacts} updateCount={updateCount} bold_index={count} updateChat={UpdateCHat}/>\r\n                    </div>\r\n                    <Conversation  myProfile={myProfile} index={count} setMyContacs={setMyContacs} />\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nasync function load_profile() {\r\n    try {\r\n        const res = await fetch(`http://localhost:5000/api/Users/${activeUser}`, {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${token}`,\r\n                /*'authorization': 'bearer ' + token //*/\r\n            },\r\n        });\r\n\r\n\r\n        if (res.ok) {\r\n            const result = await res.json();\r\n            return result;\r\n            // Additional processing or actions with the result\r\n        } else {\r\n            console.log(\"Request failed:\", res.status);\r\n            // Additional error handling or actions\r\n        }\r\n    } catch (error) {\r\n        console.log(\"Error:\", error);\r\n        // Additional error handling or actions\r\n    }\r\n    /*  console.log(\"the profile is\", JSON.stringify(myProfile));*/\r\n}\r\n\r\nasync function load_chats(username, token) {\r\n\r\n    const res = await fetch(`http://localhost:5000/api/Chats`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n            /*'authorization': 'bearer ' + token //*/\r\n        },\r\n    });\r\n\r\n    if (res.ok) {\r\n        const result = await res.json();\r\n        return result;\r\n        // Additional processing or actions with the result\r\n    } else {\r\n        console.log(\"Request failed:\", res.status);\r\n        // Additional error handling or actions\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}